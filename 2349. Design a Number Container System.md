## Problem: [2349. Design a Number Container System](https://leetcode.com/problems/design-a-number-container-system/)

### Difficulty:
*Medium*

### Topics:
*Hash Table | Design | Heap | Ordered Set*

---

### Description:
Design a number container system that can do the following:
- Insert or Replace a number at the given index in the system.
- Return the smallest index for the given number in the system.

---

### Approach:
- Data Structures
    - container: maps index → number
    - numberToIdx: maps number → sorted set of indices
- change(index, number)
    - If the index already maps to the same number → do nothing (early exit).
    - If the index exists → remove it from the old number’s set.
    - Insert the index into the new number’s set.
- find(number)
    - Return the smallest index from numberToIdx[number], or -1 if none exist.
- **Time Complexity:** O(log(n)) change() | O(1) find()
- **Space Complexity:** O(n)

---

### Solution:
```cpp
class NumberContainers {
public:
    unordered_map<int, int> container;        // index -> number
    unordered_map<int, set<int>> numberToIdx; // number -> sorted indices

    void change(int index, int number) {
        if (auto it = container.find(index); it != container.end()) {
            if (it->second == number) return; // no change
            numberToIdx[it->second].erase(index);
        }
        container[index] = number;
        numberToIdx[number].insert(index);
    }
    
    int find(int number) {
        auto it = numberToIdx.find(number);
        return (it != numberToIdx.end() && !it->second.empty()) 
            ? *it->second.begin() 
            : -1;
    }
};
```
